@import "tailwindcss";

/* =======================
   Base: tema, tokens, reset
   ======================= */
@layer base {
  :root {
    /* Marca (verde SAS) — usa com text-[hsl(var(--brand))] */
    --brand: 158 64% 45%;

    /* Cores para gráficos (recharts) */
    --chart-line: hsl(var(--brand));
    --chart-fill: 158 64% 45%;   /* números de hsl para gradients */
    --chart-grid: #e5e7eb;
    --chart-tick: #6b7280;

    /* Superfícies */
    --body-bg: #ffffff;
    --body-fg: #0f172a;
    --muted-fg: #64748b;

    --card-bg: #ffffff;
    --card-border: #e5e7eb;
    --shadow: 0 8px 30px -12px rgba(0,0,0,.15);
  }

  /* Dark mode por classe .dark no html */
  .dark {
    --chart-line: hsl(var(--brand));
    --chart-fill: 158 64% 45%;
    --chart-grid: #1f2937;      /* slate-800 */
    --chart-tick: #94a3b8;      /* slate-400 */

    --body-bg: #020617;         /* slate-950 */
    --body-fg: #e5e7eb;         /* slate-200 */
    --muted-fg: #94a3b8;        /* slate-400 */

    --card-bg: #0b1220;         /* azul petróleo muito escuro */
    --card-border: #1f2937;     /* slate-800 */
    --shadow: 0 10px 28px -14px rgba(0,0,0,.6);
  }

  html, body, #root { height: 100%; }
  body {
    background: var(--body-bg);
    color: var(--body-fg);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

/* =======================
   Componentes (utilities compostas)
   ======================= */
@layer components {
  /* ---- Layout helpers ---- */
  .app-shell { @apply min-h-dvh flex; }
  .sidebar   { @apply w-[260px] shrink-0 border-r border-slate-200 bg-white/70 backdrop-blur dark:bg-slate-900/60 dark:border-slate-800; }
  .content   { @apply flex-1 flex flex-col; }
  .container-max { @apply mx-auto max-w-7xl px-4 md:px-6; }

  /* ---- Cartões/KPIs/Toolbar ---- */
  .card {
    @apply rounded-2xl border;
    background: var(--card-bg);
    border-color: var(--card-border);
    box-shadow: var(--shadow);
  }
  .kpi { @apply rounded-2xl p-5 border; background: var(--card-bg); border-color: var(--card-border); box-shadow: var(--shadow); }
  .kpi-label { color: var(--muted-fg); }
  .kpi-value { @apply text-3xl font-semibold tracking-tight; }

  .toolbar { @apply rounded-2xl p-3 flex items-center gap-3 border; background: var(--card-bg); border-color: var(--card-border); box-shadow: var(--shadow); }

  /* ---- Botões / Inputs ---- */
  .btn {
    @apply inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-medium transition
           border bg-white border-slate-200 hover:bg-slate-50
           dark:bg-slate-900 dark:border-slate-800 dark:hover:bg-slate-800;
  }
  .btn-primary {
    @apply inline-flex items-center gap-2 rounded-xl px-4 py-2 text-sm font-semibold border border-transparent text-white;
    background: #0f172a; /* slate-900 */
  }
  .btn-ghost {
    @apply inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-medium
           border border-transparent hover:bg-slate-50 dark:hover:bg-slate-800;
  }
  .btn-danger {
    @apply inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-medium
           border text-red-600 bg-white hover:bg-red-50
           border-red-200 dark:bg-slate-900 dark:border-red-900/40 dark:hover:bg-red-900/10;
  }

  .input {
    @apply w-full rounded-xl border px-3 py-2 text-sm outline-none focus:ring-4;
    border-color: #cbd5e1;          /* slate-300 */
    background: #fff;
    color: inherit;
  }
  .input:focus {
    box-shadow: 0 0 0 .25rem rgba(15,23,42,.08); /* slate-900 com baixa opacidade */
    border-color: #cbd5e1;
  }
  .label { @apply text-sm font-medium; color: var(--muted-fg); }
  .error { @apply text-xs text-red-600; }

  /* ---- Tabelas (sem scroll horizontal + hover verde) ---- */
  .table-wrap { @apply rounded-2xl border border-slate-200 shadow-sm; background: var(--card-bg); border-color: var(--card-border); box-shadow: var(--shadow); }
  .table-wrap > .scroll { @apply max-h-[60vh] overflow-y-auto overflow-x-hidden; }
  table.data { @apply table-fixed w-full text-sm; }

  .th { @apply text-left text-slate-500 font-medium px-4 py-2.5 border-b border-slate-200; }
  .td { @apply px-4 py-3 align-middle; }
  .row { @apply border-t transition; border-color: var(--card-border); }
  .row:hover { @apply bg-emerald-50; }  /* hover: verde levezinho */

  /* Larguras por coluna (evitam “andar” horizontal) */
  .col-num     { width: 6.5rem; }
  .col-name    { width: 18rem; }
  .col-nif     { width: 9rem; }
  .col-date    { width: 8.5rem; }
  .col-email   { width: 16rem; }
  .col-course  { width: 14rem; }
  .col-phone   { width: 9rem; }
  .col-actions { width: 7rem; }

  /* ---- Badges, chips, etc. ---- */
  .badge {
    @apply inline-flex items-center rounded-full border px-2 py-0.5 text-[11px] font-medium;
    border-color: var(--card-border);
    color: var(--muted-fg);
    background: color-mix(in oklab, var(--card-bg), #64748b 5%);
  }

  /* ---- Topbar ---- */
  .topbar {
    @apply sticky top-0 z-40 border-b border-slate-200/70 bg-white/85 backdrop-blur
           dark:bg-slate-900/70 dark:border-slate-800;
  }
}

/* =======================
   Utilities extra (se precisares)
   ======================= */
@layer utilities {
  .text-brand { color: hsl(var(--brand)); }
  .bg-brand   { background-color: hsl(var(--brand)); }
}
